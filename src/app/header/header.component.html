<header class="header">
  <div class="header-container">
    <!-- Logo -->
    <div>
      <img routerLink="/Accueil" id="logo" src="logo.png" alt="">
    </div>
    <!-- Navigation Menu -->
    <nav class="nav-menu">
      <ul class="menu-list">
        <li class="menu-item dropdown">
          <a href="/prod" class="menu-link">Nos Produits</a>
          <ul class="dropdown-menu">
            <li><a routerLink="/parfums" class="dropdown-item">Parfums</a></li>
            <li><a routerLink="/skincare" class="dropdown-item">Soins</a></li>
            <li><a routerLink="/vetement" class="dropdown-item">Vêtements</a></li>        
          </ul>
        </li>
        <li class="menu-item">
          <a routerLink="/About" class="menu-link">À Propos</a>
        </li>
      </ul>
    </nav>
    <div *ngIf="userName">
      <span>{{ userName }}</span>
      <img [src]="flagUrl" alt="Country Flag">
      <span>{{ currency }}</span>
      <span>{{ countryCode }}</span>
      <span>Cart Items: {{ cartItemCount }}</span>
    </div>
    <!-- Icons Section -->
    <div class="icons">
      <span *ngIf="userName; else guestTemplate" class="user-name" routerLink="/Profile">
        <i class="fas fa-user"></i> {{ userName }}
      </span>
      <ng-template #guestTemplate>
        <a routerLink="/register" class="icon-link"><i class="fas fa-user"></i></a>
      </ng-template>
      <div *ngIf="currentUser$" class="cart-icon-container">
        <a routerLink="/panier" class="icon-link">
          <i class="fas fa-shopping-cart"></i>
          <span class="cart-badge">{{ cartItemCount }}</span>
        </a>
      </div>    
      <button *ngIf="userName" (click)="logout()" class="logout-button">Se déconnecter</button>
    </div>
  </div>
</header>
